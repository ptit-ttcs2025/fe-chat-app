<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Friend Request Test - PTIT Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <h1>ğŸš€ PTIT Chat - Friend Request WebSocket Test</h1>

    <!-- Login Section -->
    <div class="login-section">
        <h3>ğŸ”‘ ÄÄƒng Nháº­p</h3>
        <div class="login-form">
            <div class="form-group">
                <label for="email-input">Email:</label>
                <input type="email" id="email-input" placeholder="user@example.com">
            </div>
            <div class="form-group">
                <label for="password-input">Password:</label>
                <input type="password" id="password-input" placeholder="password">
            </div>
            <button id="login-btn" class="login-btn">ÄÄƒng Nháº­p</button>
            <button id="logout-btn" class="logout-btn" style="display: none;">ÄÄƒng Xuáº¥t</button>
        </div>
        <div class="current-user">
            <span>Äang Ä‘Äƒng nháº­p: </span>
            <span id="current-user-display">ChÆ°a Ä‘Äƒng nháº­p</span>
            <span id="connection-status" class="status offline">Offline</span>
        </div>
    </div>

    <!-- Quick Login Buttons -->
    <div class="quick-login-section">
        <h3>âš¡ ÄÄƒng Nháº­p Nhanh (Test Users)</h3>
        <div class="quick-login-buttons">
            <button class="quick-login-btn" data-email="cong" data-password="123456">
                ğŸ‘¤ CÃ´ng
            </button>
            <button class="quick-login-btn" data-email="test-ws" data-password="123456">
                ğŸ‘¤ Test WS
            </button>
        </div>
    </div>

    <!-- Friend Request Form -->
    <div class="request-section">
        <h3>ğŸ“¨ Gá»­i Lá»i Má»i Káº¿t Báº¡n</h3>
        <div class="form-group">
            <label for="receiver-id">ID ngÆ°á»i nháº­n:</label>
            <input type="text" id="receiver-id" placeholder="User ID cá»§a ngÆ°á»i báº¡n muá»‘n káº¿t báº¡n">
        </div>
        <div class="form-group">
            <label for="friend-message">Tin nháº¯n (tuá»³ chá»n):</label>
            <input type="text" id="friend-message" placeholder="Xin chÃ o! Káº¿t báº¡n vá»›i mÃ¬nh nhÃ©!" maxlength="200" value="Xin chÃ o! Káº¿t báº¡n vá»›i mÃ¬nh nhÃ©!">
        </div>
        <button id="send-request-btn" class="send-btn" disabled>Gá»­i Lá»i Má»i</button>
    </div>

    <!-- User Search Section -->
    <div class="search-section">
        <h3>ğŸ” TÃ¬m NgÆ°á»i DÃ¹ng</h3>
        <div class="form-group">
            <input type="text" id="search-input" placeholder="TÃ¬m theo tÃªn hoáº·c email...">
            <button id="search-btn" class="search-btn">TÃ¬m Kiáº¿m</button>
        </div>
        <div id="search-results" class="search-results"></div>
    </div>

    <!-- Notifications Panel -->
    <div class="notifications-section">
        <h3>ğŸ”” ThÃ´ng BÃ¡o Real-time</h3>
        <div class="notification-counter">
            Sá»‘ thÃ´ng bÃ¡o chÆ°a Ä‘á»c: <span id="unread-count">0</span>
        </div>
        <div id="notifications-container" class="notifications-container">
            <div class="no-notifications">ChÆ°a cÃ³ thÃ´ng bÃ¡o nÃ o</div>
        </div>
    </div>

    <!-- Friend Requests Management -->
    <div class="requests-section">
        <h3>ğŸ“‹ Quáº£n LÃ½ Lá»i Má»i</h3>
        <div class="request-tabs">
            <button id="received-tab" class="tab-btn active">ÄÃ£ Nháº­n</button>
            <button id="sent-tab" class="tab-btn">ÄÃ£ Gá»­i</button>
        </div>
        <div id="requests-container" class="requests-container">
            <div class="no-requests">KhÃ´ng cÃ³ lá»i má»i nÃ o</div>
        </div>
    </div>

    <!-- Friends List -->
    <div class="friends-section">
        <h3>ğŸ‘¥ Danh SÃ¡ch Báº¡n BÃ¨</h3>
        <div id="friends-container" class="friends-container">
            <div class="no-friends">ChÆ°a cÃ³ báº¡n bÃ¨ nÃ o</div>
        </div>
    </div>

    <!-- Actions Panel -->
    <div class="actions-section">
        <h3>âš¡ Thao TÃ¡c</h3>
        <div class="action-buttons">
            <button id="load-requests-btn" class="action-btn">ğŸ“¥ Load Lá»i Má»i</button>
            <button id="load-friends-btn" class="action-btn">ğŸ‘¥ Load Báº¡n BÃ¨</button>
            <button id="load-notifications-btn" class="action-btn">ğŸ”” Load ThÃ´ng BÃ¡o</button>
            <button id="clear-notifications" class="action-btn">ğŸ—‘ï¸ XÃ³a ThÃ´ng BÃ¡o</button>
            <button id="test-connection" class="action-btn">ğŸ”— Test Connection</button>
        </div>
    </div>

    <!-- Debug Panel -->
    <div class="debug-section">
        <h3>ğŸ› Debug Panel</h3>
        <div id="debug-log" class="debug-log"></div>
        <button id="clear-log" class="clear-log-btn">Clear Log</button>
    </div>
</div>

<!-- Include SockJS vÃ  STOMP -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script src="script.js"></script>
</body>
</html>